<!DOCTYPE html>
 <html lang="en">
<head>
    <title>HerHeart</title>
    <meta name="viewport" content="width=device-width"/>
    <script src="https://unpkg.com/jquery"></script>
    <script src="https://unpkg.com/survey-jquery@1.9.8/survey.jquery.min.js"></script>
    <link href="https://unpkg.com/survey-core@1.9.8/modern.min.css" type="text/css" rel="stylesheet"/>
    <script src="https://unpkg.com/nouislider@9.2.0/distribute/nouislider.js"></script>
    <script src="https://unpkg.com/wnumb@1.1.0"></script>
    <link href="https://unpkg.com/nouislider@9.2.0/distribute/nouislider.min.css" rel="stylesheet"/>
    <script src="https://unpkg.com/surveyjs-widgets@1.9.8/surveyjs-widgets.min.js"></script>
    <script async src="https://www.tiktok.com/embed.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.4.1/lib/p5.js"></script>

</head>
<body>
<div id="surveyElement" style="display:inline-block;width:100%;"></div>
<div id="surveyResult"></div>
<div class="modal-body">
    <!-- An element that displays a survey element's 'popupdescription' property value-->
    <p>
        <div id="questionDescriptionText"></div>
    </p>
</div>


<script>

    Survey
        .Serializer
        .addProperty("page", "animated:text");

    Survey
        .Serializer
        .addProperty("page", "popupdescription:text");

    function showDescription(element) {
        document
            .getElementById("questionDescriptionText")
            .innerHTML = element.popupdescription;
        $("#questionDescriptionPopup").modal();
    }

    const json = {
        "title": "HerHeart",
        "showProgressBar": "top",
        "triggers": [
            {
                "type": "complete",
                "expression": "{gender} != 'Female'"
            }
        ],
        "pages": [

            // {
            //     "elements": [
            //         {
            //             "type": "html",
            //             "name": "text_recom",
            //             "html": "<center><h3 style='color:rgb(26, 179, 148);'>Recommendations</h3></centers>"
            //         },
            //         {
            //             "type": "html",
            //             "name": "recomendations_phy",
            //             "html": "<div style=\";\">\n" +
            //                 "    <div style=\"left: 0; width: 100%; height: 0; position: relative; padding-bottom: 177.7778%; padding-top: 120px;\">\n" +
            //                 "        <iframe src=\"https://www.tiktok.com/embed/6885517120382323973\"\n" +
            //                 "                style=\"top: 0; left: 0; width: 100%; height: 100%; position: absolute; border: 0;\" allowfullscreen\n" +
            //                 "                scrolling=\"no\" allow=\"encrypted-media;\"></iframe>\n" +
            //                 "    </div>\n" +
            //                 "</div>"
            //         },                    {
            //             "type": "html",
            //             "name": "recomendations_phy",
            //             "html": "<div style=\";\">\n" +
            //                 "    <div style=\"left: 0; width: 100%; height: 0; position: relative; padding-bottom: 177.7778%; padding-top: 120px;\">\n" +
            //                 "        <iframe src=\"https://www.tiktok.com/embed/6937433017707171077\"\n" +
            //                 "                style=\"top: 0; left: 0; width: 100%; height: 100%; position: absolute; border: 0;\" allowfullscreen\n" +
            //                 "                scrolling=\"no\" allow=\"encrypted-media;\"></iframe>\n" +
            //                 "    </div>\n" +
            //                 "</div>"
            //         },
            //     ]
            // },


            {
                "elements": [
                    {
                        "type": "html",
                        "name": "Intro",
                        "html": "<h3> Welcome to the HerHeart, a new version of the Healthy Heart Score for teenage girls</h3><br><p>Not smoking, a healthy weight, a nutritious diet, and daily exercise play important roles in the prevention of cardiovascular disease. In fact, an overall healthy lifestyle may prevent more than 75% of deaths due to cardiovascular disease. Take this quiz to evaluate how your current lifestyle habits affect your cardiovascular health, and discover simple steps you can take to incorporate a Heart Healthy lifestyle into everyday living. Knowledge is power. Take the first step towards protecting your heart and your health!</p>" +
                            "<br><p><b>Press Next to begin this quiz.</b></p>"
                    }
                ]
            }, {
                "popupdescription":"P5",
                "elements": [
                    {
                        "type": "html",
                        "name": "test",
                        "html": "<div id='sketch-holder'></div>"
                    },
                    {

                        // "step": 1,
                        // "tooltips": true,

                        "title": "Let's start with your age. How old are you?",
                        "name": "age",
                        "type": "nouislider",
                        "rangeMin": 10,
                        "rangeMax": 60,
                        "defaultValue": 0
                    }
                ]
            },{
                "popupdescription":"P5",
                "animated":"yes",
                "elements": [
                    {
                        "type": "html",
                        "name": "test",
                        "html": "<div id='sketch-holder'></div>"
                    }
                ]
            }, {
                "popupdescription":"P5",
                "elements": [
                    {
                        "type": "html",
                        "name": "test",
                        "html": "<div id='sketch-holder'></div>"
                    },
                    {
                        "title": "Let's start with your age. How old are you?",
                        "name": "age2",
                        "type": "nouislider",
                        "rangeMin": 10,
                        "rangeMax": 60,
                        "defaultValue": 0
                    }
                ]
            },{
                "popupdescription":"P5",
                "animated":"yes",
                "elements": [
                    {
                        "type": "html",
                        "name": "test",
                        "html": "<div id='sketch-holder'></div>"
                    }
                ]
            }, {
                "popupdescription":"P5",
                "elements": [
                    {
                        "type": "html",
                        "name": "test",
                        "html": "<div id='sketch-holder'></div>"
                    },
                    {

                        // "step": 1,
                        // "tooltips": true,

                        "title": "Let's start with your age. How old are you?",
                        "name": "age3",
                        "type": "nouislider",
                        "rangeMin": 10,
                        "rangeMax": 60,
                        "defaultValue": 0
                    }
                ]
            },{
                "popupdescription":"P5",
                "animated":"yes",
                "elements": [
                    {
                        "type": "html",
                        "name": "test",
                        "html": "<div id='sketch-holder'></div>"
                    }
                ]
            }, {
                "elements": [
                    {
                        "type": "dropdown",
                        "name": "gender",
                        "title": "What is your gender?",
                        "isRequired": true,
                        "colCount": 0,
                        "hasNone": false,
                        "choices": [
                            "Female",
                            "Male",
                            "Transgender female",
                            "Transgender male",
                            "Non-gender binary"
                        ]
                    }
                ]
            }, { // This question needs logic for people that accidentally put too much or too little
                "elements": [
                    {
                        "name": "weight",

                        "type": "nouislider",
                        "rangeMin": 100,
                        "rangeMax": 360,
                        "defaultValue": 130,

                    }
                ]
            },
            {
                "elements": [
                    {
                        "type": "html",
                        "name": "Height",
                        "html": "<p><b>How tall are you?</b></p>"
                    },
                    {
                        "name": "height-feet",
                        "type": "nouislider",
                        "rangeMin": 1,
                        "rangeMax": 30,
                        "defaultValue": 4,

                    },
                    {
                        "name": "height-inches",

                        "type": "nouislider",
                        "rangeMin": 1,
                        "rangeMax": 30,
                        "defaultValue": 7,

                    }
                ]
            }, {
                "elements": [
                    {
                        "type": "image",
                        "name": "first_page_image",
                        "imageLink": "./img/vigorous.png",
                        "imageWidth": "300px",
                        "imageHeight": "300px"
                    },
                    {
                        "type": "dropdown",
                        "name": "activity-hard",
                        "title": "During a typical 7-Day period (a week), how much time do you spend on ANY of the following kinds of physical activity where you sweat/breathe hard/your heart beats rapidly?",
                        "isRequired": true,
                        "colCount": 0,
                        "hasNone": false,
                        "choices": [
                            "< 15 mins",
                            "15 - 30 mins",
                            "30 - 60 mins",
                            "1 - 3 hrs",
                            "3 - 6 hrs",
                            "6 - 10 hrs",
                            "10+ hrs"
                        ]
                    }
                ]
            }, {
                "elements": [
                    {
                        "type": "image",
                        "name": "first_page_image",
                        "imageLink": "./img/moderate.png",
                        "imageWidth": "300px",
                        "imageHeight": "300px"
                    },
                    {
                        "type": "dropdown",
                        "name": "activity-mod",
                        "title": "During a typical 7-Day period (a week), how much time do you spend on ANY of the following kinds of physical activity where you are exerting some effort?",
                        "isRequired": true,
                        "colCount": 0,
                        "hasNone": false,
                        "choices": [
                            "< 15 mins",
                            "15 - 30 mins",
                            "30 - 60 mins",
                            "1 - 3 hrs",
                            "3 - 6 hrs",
                            "6 - 10 hrs",
                            "10+ hrs"
                        ]
                    }
                ]
            }, {
                "elements": [
                    {
                        "type": "image",
                        "name": "second_page_image",
                        "imageLink": "./img/fruits.png",
                        "imageWidth": "300px",
                        "imageHeight": "300px"
                    },
                    {
                        "type": "dropdown",
                        "name": "fruits",
                        "title": "During a typical 7-Day period (a week), how often do you have fruits?",
                        "isRequired": true,
                        "colCount": 0,
                        "hasNone": false,
                        "choices": [
                            "Less than once a week",
                            "Once or twice a week",
                            "Three to five times a week",
                            "Everyday",
                            "Twice a day",
                            "More than twice a day",
                        ]
                    }
                ]
            }, {
                "elements": [
                    {
                        "type": "image",
                        "name": "fruit_yes",
                        "imageLink": "./img/yesfruit.png",
                        "imageWidth": "300px",
                        "imageHeight": "300px",
                        "visibleIf": "{fruits}='Everyday'",
                    },
                    {
                        "type": "image",
                        "name": "fruit_no",
                        "imageLink": "./img/nofruit.png",
                        "imageWidth": "300px",
                        "imageHeight": "300px",
                        "visibleIf": "{fruits}='Less than once a week'",
                    },
                ]
            }, {
                "elements": [
                    {
                        "type": "image",
                        "name": "second_page_image",
                        "imageLink": "./img/vegetables.png",
                        "imageWidth": "300px",
                        "imageHeight": "300px"
                    },
                    {
                        "type": "dropdown",
                        "name": "vegetables",
                        "title": "During a typical 7-Day period (a week), how often do you have vegetables?",
                        "isRequired": true,
                        "colCount": 0,
                        "hasNone": false,
                        "choices": [
                            "Less than once a week",
                            "Once or twice a week",
                            "Three to five times a week",
                            "Everyday",
                            "Twice a day",
                            "More than twice a day",
                        ]
                    }
                ]
            }, {
                "elements": [
                    {
                        "type": "image",
                        "name": "second_page_image",
                        "imageLink": "./img/nuts.png",
                        "imageWidth": "300px",
                        "imageHeight": "300px"
                    },
                    {
                        "type": "dropdown",
                        "name": "nuts",
                        "title": "During a typical 7-Day period (a week), how often do you eat a handful of nuts?",
                        "isRequired": true,
                        "colCount": 0,
                        "hasNone": false,
                        "choices": [
                            "Never",
                            "Less than once a week",
                            "Once or twice a week",
                            "Three to five times a week",
                            "Everyday",
                            "Twice a day",
                            "More than twice a day",
                        ]
                    }
                ]
            }, {
                "elements": [
                    {
                        "type": "image",
                        "name": "second_page_image",
                        "imageLink": "./img/soda.png",
                        "imageWidth": "300px",
                        "imageHeight": "300px"
                    },
                    {
                        "type": "dropdown",
                        "name": "sugar",
                        "title": "During a typical 7-Day period (a week), how often do you have 1 can/bottle of soda?",
                        "isRequired": true,
                        "colCount": 0,
                        "hasNone": false,
                        "choices": [
                            "Less than once a week",
                            "Once or twice a week",
                            "Three to five times a week",
                            "Everyday",
                            "Twice a day",
                            "More than twice a day",
                        ]
                    }
                ]
            }, {
                "elements": [
                    {
                        "type": "image",
                        "name": "happy_image",
                        "imageLink": "./img/happyfoods.png",
                        "imageWidth": "300px",
                        "imageHeight": "300px"
                    },
                    {
                        "type": "dropdown",
                        "name": "happy food",
                        "title": "During a typical 7-Day period (a week), how often do you eat any of these foods?",
                        "isRequired": true,
                        "colCount": 0,
                        "hasNone": false,
                        "choices": [
                            "Less than once a week",
                            "Once or twice a week",
                            "Three to five times a week",
                            "Everyday",
                            "Twice a day",
                            "More than twice a day",
                        ]
                    }
                ]
            }, {
                "elements": [
                    {
                        "type": "image",
                        "name": "meat_image",
                        "imageLink": "./img/meats.png",
                        "imageWidth": "300px",
                        "imageHeight": "300px"
                    },
                    {
                        "type": "dropdown",
                        "name": "meat",
                        "title": "During a typical 7-Day period (a week), how often do you have red or processed meat?",
                        "isRequired": true,
                        "colCount": 0,
                        "hasNone": false,
                        "choices": [
                            "Never",
                            "Less than once a week",
                            "Once or twice a week",
                            "Three to five times a week",
                            "Everyday",
                            "Twice a day",
                            "More than twice a day",
                        ]
                    }
                ]
            }, {
                "elements": [
                    {
                        "type": "image",
                        "name": "grains_image",
                        "imageLink": "./img/bread.png",
                        "imageWidth": "300px",
                        "imageHeight": "300px"
                    },
                    {
                        "type": "dropdown",
                        "name": "grains",
                        "title": "During a typical 7-Day period (a week), how often do you have grains?",
                        "isRequired": true,
                        "colCount": 0,
                        "hasNone": false,
                        "choices": [
                            "Never",
                            "Less than once a week",
                            "Once or twice a week",
                            "Three to five times a week",
                            "Everyday",
                            "Twice a day",
                            "More than twice a day",
                        ]
                    }
                ]
            }, {
                "elements": [
                    {
                        "type": "image",
                        "name": "alcohol_image",
                        "imageLink": "./img/alcohol.png",
                        "imageWidth": "300px",
                        "imageHeight": "300px"
                    },
                    {
                        "type": "dropdown",
                        "name": "alcohol",
                        "title": "If you do, how often do you drink one glass of alcohol? One glass = 4 ounces of wine, 12 ounces of beer",
                        "isRequired": true,
                        "colCount": 0,
                        "hasNone": false,
                        "choices": [
                            "Never",
                            "Less than once a week",
                            "Once or twice a week",
                            "Three to five times a week",
                            "Everyday",
                            "Twice a day",
                            "More than twice a day",
                        ]
                    }
                ]
            }, {
                "elements": [
                    {
                        "type": "image",
                        "name": "smoker_image",
                        "imageLink": "./img/smoke.png",
                        "imageWidth": "300px",
                        "imageHeight": "300px"
                    },
                    {
                        "type": "dropdown",
                        "name": "smoke",
                        "title": "Do you smoke cigarrettes?",
                        "isRequired": true,
                        "colCount": 0,
                        "hasNone": false,
                        "choices": [
                            "Never smoked",
                            "Used to smoke",
                            "Currently smoke"
                        ]
                    }
                ]
            }, {
                "elements": [
                    {
                        "type": "html",
                        "name": "summary",
                        "html": "<h3> Tis your score yo!</h3>"
                    }
                ]
            }
        ]
    };

    Survey
        .StylesManager
        .applyTheme("modern");

    window.survey = new Survey.Model(json);

    survey
        .onComplete
        .add(function (sender) {
            document
                .querySelector('#surveyResult')
                .textContent = "Result JSON:\n" + JSON.stringify(sender.data, null, 3);
        });


    $("#surveyElement").Survey({model: survey});

    //  P5 

    // function defineSketch(x,y){
    //     return function mySketch(p){
    //     // P5
    //         let draft, ready, i, maxvalue, minvalue;
    //         var start,current;
    //         var flag;
    //         p.preload = function preload() {
    //             ready = p.loadImage("img/heart-color.png");
    //             draft = p.loadImage("img/heart-bw.png");
    //         }
    //         p.setup = function setup() {
    //             let canvas = p.createCanvas(230, 225);
    //             canvas.parent('sketch-holder');
    //             p.image(ready, 0, 0);
    //             p.image(draft, 0, 0);
    //             i = -1*x;
    //             minvalue = -1*x;
    //             maxvalue = -1*y;
    //             console.log(x);
    //             flag = 0;
    //         }

    //         p.draw = function draw() {
    //         //     i = i-1;
    //             // if (i > maxvalue){
    //                 // p.copy(ready, 0, 240, 230, minvalue, 0, 240, 230, minvalue);
    //             // }
    //             p.fillBar();
    //         }

    //         p.fillBar = function fillBar(){
    //             i = i-0.5; // This controls the speed of the animation
    //             if (i > maxvalue){
    //                 p.copy(ready, 0, 240, 230, i*2, 0, 240, 230, i*2);
    //                 // This can be put here as a delay for the whole animation, but it slows down the rendering of the covered object too much
    //                 // if(flag == 0){
    //                     // p.wait(500);
    //                     // flag = 1;
    //                 // }
    //             }
    //         }

    //         // Waiting function
    //         p.wait = function wait(time)
    //         {
    //             start = p.millis()
    //             do
    //             {
    //                 current = p.millis();
    //             }
    //             while(current < start + time)
    //             }
    //     }
    // };

    // function startSketch(valmin,valmax) {
    //     var mySketch = defineSketch(valmin,valmax);
    //     window.sketchInstance = new p5(mySketch);
    // }

    survey
    .onAfterRenderPage
    .add(function (survey, options) {
        //Do nothing if a page contains no description to show in a modal popup
        if (!options.page.popupdescription) 
            return;
        
        // Add a P5 Element
        function defineSketch(x,y,animate){
            return function mySketch(p){
            // P5
                let draft, ready, i, maxvalue, minvalue;
                var start,current;
                var flag;
                p.preload = function preload() {
                    ready = p.loadImage("img/heart-color.png");
                    draft = p.loadImage("img/heart-bw.png");
                }
                p.setup = function setup() {
                    let canvas = p.createCanvas(230, 225);
                    canvas.parent('sketch-holder');
                    p.image(ready, 0, 0);
                    p.image(draft, 0, 0);
                    i = -1*x;
                    minvalue = -1*40;
                    maxvalue = -1*y;
                    console.log("this is x",x);
                    flag = 0;
                }

                p.draw = function draw() {
                //     i = i-1;
                    // if (i > maxvalue){
                        p.copy(ready, 0, 240, 230, minvalue, 0, 240, 230, minvalue);
                    // }
                    if (animate == 1){
                        p.fillBar();
                    }
                }

                p.fillBar = function fillBar(){
                    i = i-0.5; // This controls the speed of the animation
                    if (i > maxvalue){
                        p.copy(ready, 0, 240, 230, i*2, 0, 240, 230, i*2);
                        // This can be put here as a delay for the whole animation, but it slows down the rendering of the covered object too much
                        // if(flag == 0){
                            // p.wait(500);
                            // flag = 1;
                        // }
                    }
                }

                // Waiting function
                p.wait = function wait(time)
                {
                    start = p.millis()
                    do
                    {
                        current = p.millis();
                    }
                    while(current < start + time)
                    }
            }
        };

        // function startSketch(valmin,valmax,animate) {
        //     var mySketch = defineSketch(valmin,valmax,animate);
        //     window.sketchInstance = new p5(mySketch);
        // }

        const ageQuestion = survey.getQuestionByName("age").value;
        const ageQuestion2 = survey.getQuestionByName("age2").value;
        const ageQuestion3 = survey.getQuestionByName("age3").value;

        const currentPoints = ageQuestion+ageQuestion2+ageQuestion3;
        const totalPoints = ageQuestion+ageQuestion2+ageQuestion3;
        // console.log("these are current ponits",currentPoints);
        // console.log("these are next points",totalPoints);

        // I gotta pass in here these variables
        if (options.page.animated) {
            console.log("these are current ponits",currentPoints);
            console.log("these are next points",totalPoints);
            var mySketch = defineSketch(0,totalPoints,1);
            window.sketchInstance = new p5(mySketch);
        } else {
            console.log("not animated, but current points",currentPoints);
            console.log("not animated, but total points",totalPoints);
            var mySketch = defineSketch(currentPoints,totalPoints,0);
            window.sketchInstance = new p5(mySketch);
        }
        // var mySketch = defineSketch(0,totalPoints,1);
        // window.sketchInstance = new p5(mySketch);

        // P5 End ------------ //

        //Create a 'More Info' button to invoke a modal popup
        // var btn = document.createElement("button");
        // btn.type = "button";
        // btn.className = "btn btn-info btn-xs";
        // btn.innerHTML = "More Info";
        // btn.onclick = function () {
        //     showDescription(survey.currentPage);
        // }
        // //Insert the created 'More Info' button into the rendered page's header
        // var header = options
        //     .htmlElement
        //     .querySelector("h4");
        // var span = document.createElement("span");
        // span.innerHTML = "  ";
        // header.appendChild(span);
        // header.appendChild(btn);
    });

    survey.onValueChanged.add(function (survey, options) {

        // This alone like this just creates the sketch and adds it to all pages
        // var mySketch = defineSketch(10,50);
        // window.sketchInstance = new p5(mySketch);

        // const TestQ = survey.getQuestionByName("test");
        // TestQ.html = "<h2> This is me</h2><div id='sketch-holder'></div><main></main><button onclick='startSketch(10,50)'> Start</button>";

        // const TestQ2 = survey.getQuestionByName("test2");
        // TestQ2.html = "<h2> This is me</h2><main></main><button onclick='startSketch(50,70)'> Start</button>";

        // const TestQ3 = survey.getQuestionByName("test3");
        // TestQ3.html = "<h2> This is me</h2><main></main><button onclick='startSketch(70,100)'> Start</button>";

        const ageQuestion = survey.getQuestionByName("age").value;
        const genderQuestion = survey.getQuestionByName("gender").value;
        //
        const weightQuestion = survey.getQuestionByName("weight").value;
        const heightFeetQuestion = survey.getQuestionByName("height-feet").value;
        const heightInchesQuestion = survey.getQuestionByName("height-inches").value;
        const BMI = (weightQuestion / (heightFeetQuestion * 12 + heightInchesQuestion) / (heightFeetQuestion * 12 + heightInchesQuestion)) * 703;
        //
        const smokeQuestion = survey.getQuestionByName("smoke").value;
        let smokeValue = 0;
        if (smokeQuestion === "Used to smoke") {
            smokeValue = 0.15285
        } else if (smokeQuestion === "Currently smoke") {
            smokeValue = 0.90138
        }

        //
        const alcoholQuestion = survey.getQuestionByName("alcohol").value;
        let alcoholValue = 0;
        if (alcoholQuestion === "More than twice a day") {
            alcoholValue = 0.01923 * 3 - 0.0004 * 3 * 3
        } else if (alcoholQuestion === "Twice a day") {
            alcoholValue = 0.01923 * 2 - 0.0004 * 2 * 2
        } else if (alcoholQuestion === "Everyday") {
            alcoholValue = 0.01923 - 0.0004
        } else if (alcoholQuestion === "Three to five times a week") {
            alcoholValue = 0.01923 * 0.5 - 0.0004 * 0.5 * 0.5
        }

        //
        const fruitQuestion = survey.getQuestionByName("fruits").value;
        const vegetableQuestion = survey.getQuestionByName("vegetables").value;
        let fruitVeggieValue = 0;
        if (fruitQuestion === "More than twice a day" || vegetableQuestion === "More than twice a day") {
            fruitVeggieValue = 0.18283
        }


        const nutQuestion = survey.getQuestionByName("nuts").value;
        let nutValue = 0;

        const grainQuestion = survey.getQuestionByName("grains").value;
        let grainValue = 0;
        if (grainQuestion === "More than twice a day") {
            grainValue = 0.03326 * 3
        } else if (grainQuestion === "Twice a day") {
            grainValue = 0.03326 * 2
        } else if (grainQuestion === "Everyday") {
            grainValue = 0.03326
        } else if (grainQuestion === "Three to five times a week") {
            grainValue = 0.03326 * 0.5
        }

        if (nutQuestion === "Three to five times a week" || nutQuestion === "Everyday" || nutQuestion === "Once or twice a week") {
            nutValue = 0.14522
        } else if (nutQuestion === "More than twice a day" || nutQuestion === "Twice a day") {
            nutValue = 0.24444
        }

        const sugarQuestion = survey.getQuestionByName("sugar").value;
        let sugarValue = 0;
        if (sugarQuestion === "More than twice a day") {
            sugarValue = 0.14631 * 3
        } else if (sugarQuestion === "Twice a day") {
            sugarValue = 0.14631 * 2
        } else if (sugarQuestion === "Everyday") {
            sugarValue = 0.14631
        } else if (sugarQuestion === "Three to five times a week") {
            sugarValue = 0.14631 * 0.5
        }

        const meatQuestion = survey.getQuestionByName("meat").value;
        let meatValue = 0;
        if (meatQuestion === "More than twice a day") {
            meatValue = 0.15624 * 3
        } else if (meatQuestion === "Twice a day") {
            meatValue = 0.15624 * 2
        } else if (meatQuestion === "Everyday") {
            meatValue = 0.15624
        } else if (meatQuestion === "Three to five times a week") {
            meatValue = 0.15624 * 0.5
        }
        const Diet = fruitVeggieValue + nutValue - sugarValue - meatValue + grainValue;
        //
        const hardSportQuestion = survey.getQuestionByName("activity-hard").value;
        let hardSportValue = 0;
        if (hardSportQuestion === "< 15 mins") {
            hardSportValue = 0.25
        } else if (hardSportQuestion === "15 - 30 mins") {
            hardSportValue = 0.5
        } else if (hardSportQuestion === "30 - 60 mins") {
            hardSportValue = 1
        } else if (hardSportQuestion === "1 - 3 hrs") {
            hardSportValue = 2
        } else if (hardSportQuestion === "3 - 6 hrs") {
            hardSportValue = 4.5
        } else if (hardSportQuestion === "6 - 10 hrs") {
            hardSportValue = 8
        } else if (hardSportQuestion === "10+ hrs") {
            hardSportValue = 10
        }
        const modSportQuestion = survey.getQuestionByName("activity-mod").value;
        let modSportValue = 0;
        if (modSportQuestion === "< 15 mins") {
            modSportValue = 0.25
        } else if (modSportQuestion === "15 - 30 mins") {
            modSportValue = 0.5
        } else if (modSportQuestion === "30 - 60 mins") {
            modSportValue = 1
        } else if (modSportQuestion === "1 - 3 hrs") {
            modSportValue = 2
        } else if (modSportQuestion === "3 - 6 hrs") {
            modSportValue = 4.5
        } else if (modSportQuestion === "6 - 10 hrs") {
            modSportValue = 8
        } else if (modSportQuestion === "10+ hrs") {
            modSportValue = 10
        }
        //
        let W = 0;
        console.log("This is the BMI", BMI);
        if (genderQuestion === "Female") {
            W = 0.102820 * ageQuestion + 0.04676 * BMI + smokeValue - alcoholValue - 0.05113 * (Diet * 10) - 0.02951 * (hardSportValue + modSportValue);
        } else {
            W = "We not doing boys yet";
        }
        const summaryQuestion = survey.getQuestionByName("summary");
        summaryQuestion.html = "<h3>This is your cardiac risk: " + W + "</h3>";

    });

</script>

</body>
</html>
